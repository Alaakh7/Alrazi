@using System.Text.RegularExpressions
@model Blog
@{
    ViewData["Title"] = "المدونة";
    Layout = "~/Views/Shared/_WebLayout.cshtml";
}

<section class="inner-header divider parallax layer-overlay overlay-white-8" data-bg-img="~/images/bg/bg2.jpg">
    <div class="container pt-100 pb-100">
        <!-- Section Content -->
        <div class="section-content">
            <div class="row">
                <div class="col-md-12 text-center">
                    <h2 class="title">المدونة</h2>
                    <ol class="breadcrumb text-center mt-10">
                        <li><a href="#">الرئيسية</a></li>
                        <li><a href="#">آخر الأخبار</a></li>
                        <li class="active text-theme-colored">@Model.Title</li>
                    </ol>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Section: Blog -->
<section>
    <div class="container mt-30 mb-30 pt-30 pb-30">
        <div class="row">
            <div class="col-md-9">
                <div class="blog-posts single-post">
                    <article class="post clearfix mb-0">
                        <div class="entry-header">
                            <div class="post-thumb thumb">
                                <!-- تصغير الصورة مع الحفاظ على نسبتها -->
                                <img src="@Model.BlogFiles.First(x => x.IsIamge).Url" alt="" class="img-responsive img-fullwidth" style="max-width: 100%; max-height: 400px; object-fit: contain;">
                            </div>
                        </div>
                        <div class="entry-content">
                            <div class="entry-meta media no-bg no-border mt-15 pb-20">
                                <div class="media-body pl-15">
                                    <div class="event-content pull-left flip">
                                        <h3 class="entry-title text-white text-uppercase pt-0 mt-0">
                                            <a href="blog-single-right-sidebar.html">@Model.Title</a>
                                        </h3>
                                        <span class="mb-10 text-gray-darkgray mr-10 font-13">
                                            <i class="fa fa-commenting-o mr-5 text-theme-colored"></i> @Model.PostDate.ToShortDateString()
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <p class="mb-15">
                                @Html.Raw(Model.Details)
                            </p>
                        </div>
                    </article>
                </div>
            </div>
            <div class="col-md-3">
                <div class="sidebar sidebar-left mt-sm-30">
                    <div class="widget">
                        <h5 class="widget-title line-bottom">آخر الأخبار</h5>
                        <div class="latest-posts">
                            @foreach (var item in ViewData["LastBlogs"] as List<Blog>)
                            {
                                <article class="post media-post clearfix pb-0 mb-10">
                                    <div class="post-right">
                                        <h5 class="post-title mt-0"><a href="~/Home/Blog/@item.Id">@item.Title</a></h5>
                                        @{
                                          
                                        }
                                        <p>@Model.ShortDetails ...<a href="~/Home/Blog/@item.Id">المزيد</a></p>
                                    </div>
                                </article>
                            }
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
